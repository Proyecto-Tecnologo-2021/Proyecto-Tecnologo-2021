<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">


<h:head>
	<meta charset="ISO-8859-1"></meta>
	<title>Appetit-Administrador</title>


	<ui:include src="/WEB-INF/includes/header_lib.xhtml" />

	<style>
.selected {
	background-color: #008037 !important;
}
</style>


</h:head>

<h:body>


	<header class="fixed-top header"> <ui:include
		src="/WEB-INF/includes/header_logRestaurant.xhtml" /> <!-- top header -->
	<div class="navigation w-100">
		<div class="container">

			<nav class="navbar navbar-expand-lg navbar-light bg-light"> <a
				class="navbar-brand" href="/appettit-web/admin/home.xhtml"><img
				class="appettit-logo"
				src="/appettit-web/resources/images/logobg.svg" alt="Appettit"></img></a>

			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item"><a class="nav-link" href="#">Restaurantes</a></li>
					<li class="nav-item"><a class="nav-link" href="#">Clientes</a></li>
					<li class="nav-item"><a class="nav-link" href="administradores.xhtml">Adminsitradores</a></li>
					<li class="nav-item"><a class="nav-link" href="#">Informes</a></li>
				</ul>
			</div>
			</nav>
		</div>
	</div>
	</header>

	<div class="main-panel">
		<div class="container">

			<div class="content-wrapper">
				<div class="row mb-3 pt-3">
					<div class="col-xl-12 col-lg-12 col-md-12 pb-3 pt-3">
						<div class="card">
							<div class="card-header">
								<div class="row">
									<div class="col-md-6">
										<div class="d-grid gap-2 d-md-flex justify-content-md-start">
											<h5 class="card-title mb-3 pt-1">
												Restaurantes a autorizar: 
												<h:outputText value="#{beanHomeAdministrador.fechaHora}" />
											</h5>
										</div>
									</div>
									<div class="col-md-6">
										<div class="d-grid gap-2 d-md-flex justify-content-md-end">
											<h5 class="card-title mb-3 pt-1">
												&Uacute;ltima Actualizaci&oacute;n:
												<h:outputText value="#{beanHomeAdministrador.fechaHora}" />
											</h5>
										</div>
									</div>


								</div>
							</div>
						</div>
					</div>

					<!-- Graficas Totales -->
					<div
						class="col-xl-3 col-lg-3 col-md-3 grid-margin stretch-card pb-3">
						<div class="card">
							<div class="card-body">
								<div class="row">
									<div class="col-md-8">
										<h6 class="card-title mb-3 pt-1">Total de ventas</h6>
									</div>
									<div class="col-md-4">
										<div class="ms-chart-label bg-dark">
											<h6>
												<i class="fas fa-arrow-up"> 1.0%</i>
											</h6>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-12"></div>
								</div>
								<h5 class="card-title mb-3 font-weight-bold">$ 172.800</h5>
								<div id="canvas-holderA">
									<canvas id="chart_CardA" />
								</div>
							</div>
						</div>

					</div>
					<div
						class="col-xl-3 col-lg-3 col-md-3 grid-margin stretch-card pb-3">
						<div class="card">
							<div class="card-body">
								<div class="row">
									<div class="col-md-8">
										<h6 class="card-title mb-3 pt-1">Total de clientes</h6>
									</div>
									<div class="col-md-4">
										<div class="ms-chart-label bg-dark">
											<h6>
												<i class="fas fa-arrow-down"> 1.0%</i>
											</h6>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-12"></div>
								</div>
								<h5 class="card-title mb-3 font-weight-bold">189</h5>
								<div id="canvas-holderB">
									<canvas id="chart_CardB" />
								</div>
							</div>
						</div>
					</div>
					<div
						class="col-xl-3 col-lg-3  col-md-3 grid-margin stretch-card pb-3">
						<div class="card">
							<div class="card-body">
								<div class="row">
									<div class="col-md-8">
										<h6 class="card-title mb-3 pt-1">Total de &oacute;rdenes</h6>
									</div>
									<div class="col-md-4">
										<div class="ms-chart-label bg-dark">
											<h6>
												<i class="fas fa-arrow-up"> 1.0%</i>
											</h6>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-12"></div>
								</div>
								<h5 class="card-title mb-3 font-weight-bold">153</h5>
								<div id="canvas-holderC">
									<canvas id="chart_CardC" />
								</div>
							</div>
						</div>

					</div>
					<div
						class="col-xl-3 col-lg-3  col-md-3 grid-margin stretch-card pb-3">
						<div class="card">
							<div class="card-body">
								<div class="row">
									<div class="col-md-8">
										<h6 class="card-title mb-3 pt-1">Promedio de
											&oacute;rdenes</h6>
									</div>
									<div class="col-md-4">
										<div class="ms-chart-label bg-dark">
											<h6>
												<i class="fas fa-arrow-up"> 3.0%</i>
											</h6>
										</div>
									</div>
								</div>

								<h5 class="card-title mb-3 font-weight-bold">21</h5>
								<div id="canvas-holderD">
									<canvas id="chart_CardD" />
								</div>
							</div>
						</div>
					</div>

					<div
						class="col-xl-6 col-lg-6  col-md-6 grid-margin stretch-card pb-3">
						<div class="card">
							<div class="card-header">
								<div class="row">
									<div class="col-md-6">
										<h5 class="card-title mb-3">Top 5 de Restaurantes</h5>
									</div>

									<div class="col-md-6 justify-content-md-end">
										<div class="d-grid gap-2 d-md-flex justify-content-md-end">
											<button type="button" class="btn btn-primary">Ver
												todos</button>
										</div>

									</div>
								</div>
							</div>
							<div class="card-body">
								<table class="table table-hover">
									<thead>
										<tr>
											<th scope="col">Restaurante</th>
											<th scope="col">Total Venta</th>
											<th scope="col">Califiaci&oacute;n</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td><img
												src="/codigo-web/resources/images/food/pizza.jpg" alt="">
													Restaurante 1</img></td>
											<td>$ 1800</td>
											<td><span class="fa fa-star text-warning"></span> <span
												class="fa fa-star text-warning"></span> <span
												class="fa fa-star text-warning"></span> <span
												class="fa fa-star"></span> <span class="fa fa-star"></span>
											</td>
										</tr>
										<tr>
											<td><img
												src="/codigo-web/resources/images/food/french-fries.jpg"
												alt=""> Restaurante 2</img></td>
											<td>$ 1700</td>
											<td><span class="fa fa-star text-warning"></span> <span
												class="fa fa-star text-warning"></span> <span
												class="fa fa-star text-warning"></span> <span
												class="fa fa-star"></span> <span class="fa fa-star"></span>
											</td>
										</tr>
										<tr>
											<td><img
												src="/codigo-web/resources/images/food/cereals.jpg" alt="">
													Restaunate 3</img></td>
											<td>$ 1500</td>
											<td><span class="fa fa-star text-warning"></span> <span
												class="fa fa-star text-warning"></span> <span
												class="fa fa-star text-warning"></span> <span
												class="fa fa-star"></span> <span class="fa fa-star"></span>
											</td>
										</tr>
										<tr>
											<td><img
												src="/codigo-web/resources/images/food/egg-sandwich.jpg"
												alt=""> Reataurante 56</img></td>
											<td>$ 1240</td>
											<td><span class="fa fa-star text-warning"></span> <span
												class="fa fa-star text-warning"></span> <span
												class="fa fa-star text-warning"></span> <span
												class="fa fa-star"></span> <span class="fa fa-star"></span></td>
										</tr>
									</tbody>

								</table>

							</div>
						</div>
					</div>
					<div
						class="col-xl-3 col-lg-3 col-md-3 grid-margin stretch-card pb-3">
						<div class="card">
							<div class="card-header">
								<h5 class="card-title mb-3 pt-1">Reclamos</h5>
							</div>
							<div class="card-body">

								<h6 class="card-title mb-3 font-weight-bold">8 de 153
									pedidos (5.22%)</h6>
								<div id="canvas-holderF">
									<canvas id="chart_CardF" />
								</div>
							</div>
						</div>
					</div>

					<div
						class="col-xl-3 col-lg-3 col-md-3 grid-margin stretch-card pb-3">
						<div class="card">
							<div class="card-header">
								<h5 class="card-title mb-3 pt-1">Forma de pago</h5>

							</div>
							<div class="card-body">
								<h6 class="card-title mb-3 font-weight-bold">153 pedidos</h6>
								<div id="canvas-holderE">
									<canvas id="chart_CardE" />
								</div>
							</div>
						</div>
					</div>
					<div
						class="col-xl-12 col-lg-12 col-md-12 grid-margin stretch-card pb-3">

						<div class="card">
							<div class="card-header">
								<h5 class="card-title mb-3">Tendencias</h5>
							</div>
							<div class="card-body">
								<div class="row mb-3">
									<div
										class="col-xl-3 col-lg-3 col-md-3 grid-margin stretch-card pb-1">
										<div class="card">
											<img class="card-img-top"
												src="/codigo-web/resources/images/food/pizza.jpg"
												alt="pizza"></img>
											<div class="card-body"></div>
											<div class="card-footer bg-transparent">
												<div class="d-flex flex-row">
													<h5 class="mr-auto card-title mb-3 pt-1">Restaurante 1</h5>
												</div>

												<div class="d-flex flex-row">
													<h5 class="mr-auto card-title mb-3 pt-1">Pizza</h5>
													<h5 class="card-title mb-3 pt-1 text-success">$180</h5>
												</div>
												<div class="d-flex flex-row">
													<h6 class="mr-auto card-subtitle mb-2 text-muted">&Oacute;rdenes</h6>
													<h6 class="card-subtitle mb-2 text-muted">Total</h6>
												</div>
												<div class="d-flex flex-row">
													<h6 class="mr-auto card-subtitle mb-2 text-danger">10</h6>
													<h6 class="card-subtitle mb-2 text-danger">$1800</h6>
												</div>
											</div>
										</div>
									</div>
									<div
										class="col-xl-3 col-lg-3 col-md-3 grid-margin stretch-card pb-1">
										<div class="card">
											<img class="card-img-top"
												src="/codigo-web/resources/images/food/food-4.jpg"
												alt="Hamburguesa"></img>
											<div class="card-body"></div>
											<div class="card-footer bg-transparent">
												<div class="d-flex flex-row">
													<h5 class="mr-auto card-title mb-3 pt-1">Restaurante 1</h5>
												</div>
											
												<div class="d-flex flex-row">
													<h5 class="mr-auto card-title mb-3 pt-1">Hamburguesa</h5>
													<h5 class="card-title mb-3 pt-1 text-success">$220</h5>
												</div>
												<div class="d-flex flex-row">
													<h6 class="mr-auto card-subtitle mb-2 text-muted">&Oacute;rdenes</h6>
													<h6 class="card-subtitle mb-2 text-muted">Total</h6>
												</div>
												<div class="d-flex flex-row">
													<h6 class="mr-auto card-subtitle mb-2 text-danger">11</h6>
													<h6 class="card-subtitle mb-2 text-danger">$2420</h6>
												</div>
											</div>
										</div>
									</div>
									<div
										class="col-xl-3 col-lg-3 col-md-3 grid-margin stretch-card pb-1">
										<div class="card">
											<img class="card-img-top"
												src="/codigo-web/resources/images/food/egg-sandwich.jpg"
												alt="Chivito"></img>
											<div class="card-body"></div>
											<div class="card-footer bg-transparent">
												<div class="d-flex flex-row">
													<h5 class="mr-auto card-title mb-3 pt-1">Restaurante 2</h5>
												</div>
											
												<div class="d-flex flex-row">
													<h5 class="mr-auto card-title mb-3 pt-1">Chivito</h5>
													<h5 class="card-title mb-3 pt-1 text-success">$180</h5>
												</div>
												<div class="d-flex flex-row">
													<h6 class="mr-auto card-subtitle mb-2 text-muted">&Oacute;rdenes</h6>
													<h6 class="card-subtitle mb-2 text-muted">Total</h6>
												</div>
												<div class="d-flex flex-row">
													<h6 class="mr-auto card-subtitle mb-2 text-danger">15</h6>
													<h6 class="card-subtitle mb-2 text-danger">$2700</h6>
												</div>
											</div>

										</div>
									</div>
									<div
										class="col-xl-3 col-lg-3 col-md-3 grid-margin stretch-card pb-1">
										<div class="card">
											<img class="card-img-top"
												src="/codigo-web/resources/images/food/food-3.jpg"
												alt="Ensalada"></img>
											<div class="card-body"></div>
											<div class="card-footer bg-transparent">
												<div class="d-flex flex-row">
													<h5 class="mr-auto card-title mb-3 pt-1">Restaurante 56</h5>
												</div>
												
												<div class="d-flex flex-row">
													<h5 class="mr-auto card-title mb-3 pt-1">Ensalada</h5>
													<h5 class="card-title mb-3 pt-1 text-success">$190</h5>
												</div>
												<div class="d-flex flex-row">
													<h6 class="mr-auto card-subtitle mb-2 text-muted">&Oacute;rdenes</h6>
													<h6 class="card-subtitle mb-2 text-muted">Total</h6>
												</div>
												<div class="d-flex flex-row">
													<h6 class="mr-auto card-subtitle mb-2 text-danger">10</h6>
													<h6 class="card-subtitle mb-2 text-danger">$1900</h6>
												</div>
											</div>
										</div>
									</div>
									<div class="col-xl-12 col-lg-12 col-md-12 pb-3 pt-3">
										*Per&iacute;odo de an&aacute;lisis -</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>



	<section class="section" id="main_section">
	<div></div>

	</section>

	<ui:include src="/WEB-INF/includes/footer_lib.xhtml" />

	<script>
		const opCal = {
			indexAxis: 'y',
			responsive: true,
			plugins: {
	  		    	legend: {
		  		        display: false
		  		    },
	  		      	title: {
	  		        	display: false
	  		      	}
	  		    },
  		    scales: {
		     		x: {
		     			ticks: {
		                	display: false
		          	 	},
		          	 	grid: {
	  		              	display: false,
	  		          	},
		         	},
		     		y: {
	     				ticks: {
	                  		display: true
	          	 		},
	          	 		grid: {
	  		             	display: false,
		  		        },
	         		},
  		     },  
  		    
		};

		const colorCal = ['rgb(40,167,69)', 'rgb(0,123,255)', 'rgb(23,162,184)', 'rgb(247,187,7)', 'rgb(213,51,67)' ];
		const colorCalG = ['rgba(40,167,69,0.5)', 'rgba(0,123,255, 0.5)', 'rgba(23,162,184, 0.5)', 'rgba(247,187,7, 0.5)', 'rgba(213,51,67, 0.5)' ]; 
		const labelsCal = ['5', '4', '3', '2', '1'];
		const labelsT = ['D', 'L', 'M', 'X', 'J', 'V', 'S'];
		const colorT = 'rgb(242, 162, 44)';
		const colorTC = 'rgba(242, 162, 44, 0.5)';
		const colorSec = 'rgb(0, 128, 55)';
		const colorSecC = 'rgba(0, 128, 55, 0.5)';

			
		const op = {
	  		    responsive: true,
	  		    scales: {
  		     		x: {
  		           		ticks: {
  		                	display: false
  		          	 	},
	  		          	grid: {
	  		              display: true,
	  		          	},
	  		         },
  		     		y: {
	           			ticks: {
	                  		display: false
	          	 		},
	          	 	 	grid: {
	  		              display: true,
	  		          	},
		         	},
	  		     },  
	  		    plugins: {
	  		    	legend: {
		  		        display: false
		  		    },
	  		      	title: {
	  		        	display: false
	  		      	}
	  		    }
			};

		const dataCardA = {
				  labels: labelsT,
				  datasets: [
				    {
				      label: 'Total',
				      data: [13000, 13500, 14000, 12300, 45000, 60000, 15000],
				      borderColor: colorT,
				      backgroundColor: colorT,
				      fill: true
				    },
				  ]
				};
		
		const dataCardB = {
				  labels: labelsT,
				  datasets: [
				    {
				      label: 'Total',
				      data: [15, 13, 18, 23, 47, 45, 28],
				      borderColor: colorT,
				      backgroundColor: colorTC,
				      fill: true
				    },
				  ]
				};
		
		const dataCardC = {
				  labels: labelsT,
				  datasets: [
				    {
				      label: 'Total',
				      data: [16, 13, 18, 23, 12, 28, 43],
				      borderColor: colorT,
				      backgroundColor: colorT,
				      fill: true
				    },
				  ]
				};
				
		const dataCardD = {
		  labels: labelsT,
		  datasets: [
		    {
		      label: 'Total',
		      data: [16, 13, 18, 23, 12, 28, 43],
		      borderColor: colorT,
		      backgroundColor: colorTC,
		      fill: true
		    },
		  ]
		};

		//const dataR = [12, 8, 6, 3, 1];
		//const dataC = [10, 8, 8, 2, 2];
		//const dataS = [10, 12, 6, 2, 0];
		
		const dataR = <h:outputText value="#{beanHomeAdministrador.rapidez}" />;
		const dataC = <h:outputText value="#{beanHomeAdministrador.comida}"/>;
		const dataS = <h:outputText value="#{beanHomeAdministrador.servicio}"/>;
			
		const dataRapidez = {
				  labels: labelsCal,
				  datasets: [
				    {
				    	indexAxis: 'y', 
					    label: 'Total',
					    data: dataR,
					    backgroundColor: colorCal,
					    fill: true
				    },
				  ]
				};
				
		const dataComida = {
				  labels: labelsCal,
				  datasets: [
				    {
				    	indexAxis: 'y', 
					    label: 'Total',
					    data: dataC,
					    backgroundColor: colorCal,
					    fill: true
				    },
				  ]
				};

		const dataServicio = {
				  labels: labelsCal,
				  datasets: [
				    {
				    	indexAxis: 'y', 
					    label: 'Total',
					    data: dataS,
					    backgroundColor: colorCal,
					    fill: true
				    },
				  ]
				};
		
		const dataGral = {
				  labels: labelsCal,
				  datasets: [
				    {
				    	indexAxis: 'y', 
					    label: 'Rapidez',
					    data: dataR,
					    borderColor: colorCal,
					    backgroundColor: colorCalG,
					    fill: true,
				    },
				    {
				    	indexAxis: 'y', 
					    label: 'Comida',
					    data: dataC,
					    borderColor: colorCal,
					    backgroundColor: colorCal,
					    fill: true,
				    },
				    {
				    	indexAxis: 'y', 
					    label: 'Servicio',
					    data: dataS,
					    borderColor: colorCal,
					    backgroundColor: colorCalG,
					    fill: true
				    },
				  ]
				};


		
		const configRapidez = {
				  type: 'bar',
				  data: dataRapidez,
				  options: opCal,
				};

		const configComida = {
				  type: 'bar',
				  data: dataComida,
				  options: opCal,
				};

		const configServico = {
				  type: 'bar',
				  data: dataServicio,
				  options: opCal,
				};

		const configGral = {
				type: 'bar',
				  data: dataGral,
				  
				  options: {
					  indexAxis: 'y',
					  
						responsive: true,
						 plugins: {
				  		    	legend: {
					  		        display: false
					  		    },
				  		      	title: {
				  		        	display: false
				  		      	}
				  		    },
			  		    scales: {
					     		x: {
					     			stacked: true,
					     			ticks: {
					                	display: false
					          	 	},
					          	 	grid: {
				  		              	display: false,
				  		          	},
					         	},
					     		y: {
					     			stacked: true,
				     				ticks: {
				                  		display: true
				          	 		},
				          	 		grid: {
				  		             	display: false,
					  		        },
				         		},
			  		     },  
					  }
				};
		
		const configCardA = {
		  		  type: 'line',
		  		  data: dataCardA,
		  		  options: op,
		  		};

		const configCardB = {
		  		  type: 'line',
		  		  data: dataCardB,
		  		  options: op,
		  		};

		const configCardC = {
		  		  type: 'line',
		  		  data: dataCardC,
		  		  options: op,
		  		};
			
	    const configCardD = {
	  		  type: 'line',
	  		  data: dataCardD,
	  		  options: op,
	  		};
	
	    var configCardE = {
	            type: 'doughnut',
	            data: {
	                datasets: [{
	                    data: [50, 103],
	                    backgroundColor: [colorSec, colorT],
	                    label: 'Forma de Pago'
	                }],
	                labels: [
	                    "PayPal",
	                    "Contado",
	                ]
	            },
	            options: {
	                responsive: true,
	                maintainAspectRatio: false,
	                cutoutPercentage: 40, 
	                plugins: {
		  		    	legend: {
			  		        display: true,
			  		      position: 'right',
			  		    },
		  		      	title: {
		  		        	display: false
		  		      	}
		  		    },
	                animation: {
	                    animateScale: true,
	                    animateRotate: true
	                }
	            }
	        };  

	    var configCardF = {
	            type: 'doughnut',
	            data: {
	                datasets: [{
	                    data: [5.22, 94.78],
	                    backgroundColor: [colorCal[4], colorTC],
	                    label: 'Forma de Pago'
	                }],
	                labels: [
	                    "Reclamos",
	                    "Sin reclamos",
	                ]
	            },
	            options: {
	                responsive: true,
	                maintainAspectRatio: false,
	                cutout: 80, 
	                plugins: {
		  		    	legend: {
			  		        display: false,
			  		      position: 'right',
			  		    },
		  		      	title: {
		  		        	display: false
		  		      	}
		  		    },
	                animation: {
	                    animateScale: true,
	                    animateRotate: true
	                }
	            }
	        };  
	    
			  
	window.onload = function() {
			var ctxCalA = document.getElementById("chart_CalA").getContext("2d");
			  window.myGraphA = new Chart(ctxCalA, configRapidez);

			  var ctxCalB = document.getElementById("chart_CalB").getContext("2d");
			  window.myGraphB = new Chart(ctxCalB, configComida);

			var ctxCalC = document.getElementById("chart_CalC").getContext("2d");
			window.myGraphC = new Chart(ctxCalC, configServico);

			var ctxCalD = document.getElementById("chart_CalD").getContext("2d");
			window.myGraphD = new Chart(ctxCalD, configGral);
			
			var ctxCardA = document.getElementById("chart_CardA").getContext("2d");
			  window.myGraphA = new Chart(ctxCardA, configCardA);
			
			var ctxCardB = document.getElementById("chart_CardB").getContext("2d");
			  window.GraphB = new Chart(ctxCardB, configCardB);

			var ctxCardC = document.getElementById("chart_CardC").getContext("2d");
			  window.GraphC = new Chart(ctxCardC, configCardC);
				  	
			var ctxCardD = document.getElementById("chart_CardD").getContext("2d");
			window.GraphD = new Chart(ctxCardD, configCardD);

			var ctxCardE = document.getElementById("chart_CardE").getContext("2d");
			window.GraphE = new Chart(ctxCardE, configCardE);

			var ctxCardF = document.getElementById("chart_CardF").getContext("2d");
			window.GraphF = new Chart(ctxCardF, configCardF);
			
		};


	</script>
</h:body>
</html>